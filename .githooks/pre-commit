#!/bin/bash
# Thin wrapper. Fetches and caches pre-commit.sh from central repo, then runs it.

SCRIPT=".claude-shared/pre-commit.sh"
RAW="https://raw.githubusercontent.com/mvdatacenter/claude-instructions/main/hooks/pre-commit.sh"

if [ ! -f "$SCRIPT" ]; then
    mkdir -p .claude-shared
    TOKEN=$(gh auth token 2>/dev/null)
    curl -sf -H "Authorization: token $TOKEN" "$RAW" -o "$SCRIPT"
fi

[ -f "$SCRIPT" ] && bash "$SCRIPT"
